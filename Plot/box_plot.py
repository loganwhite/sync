#!/usr/local/bin/python3



# data
syncs_ratio_001_threshold_05=[0, 0, 0, 3, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4]
syncs_ratio_001_threshold_06=[0, 0, 0, 0, 2, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4]
syncs_ratio_002_threshold_05=[0, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4]
syncs_ratio_002_threshold_06=[0, 0, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4]
syncs_ratio_003_threshold_05=[0, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4]
syncs_ratio_003_threshold_06=[0, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4]
syncs_ratio_004_threshold_05=[3, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4]
syncs_ratio_004_threshold_06=[1, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4]


utils_ratio_001_threshold_05=[[0.1428847930879755, 0.16504903294714854, 0.1508581161079284, 0.09449217167469078], [0.28682274894993975, 0.3470421195811099, 0.2744354951708117, 0.18838863240608997], [0.44326194287491577, 0.3470421195811099, 0.41752104135555146, 0.28917376514935644], [0.5081151000007178, 0.4702775510250189, 0.5002655188624823, 0.40052432069176985], [0.6446165117616878, 0.4702775510250189, 0.5922933832379387, 0.4856486080355745], [0.7959346444022346, 0.5795713367557466, 0.7097208875738197, 0.5539494805352212], [0.8686366279577977, 0.611029602939728, 0.8368936925632996, 0.662110770461137], [0.9494238662772023, 0.736134446826739, 0.9948488060259658, 0.7541726095099377], [1.0528917054664748, 0.7551755556344517, 1.0733502618883506, 0.8687875319691345], [1.1561855284169587, 0.8679276468377553, 1.201874682939178, 0.9125516808905111], [1.2219057752631228, 0.8888782794954817, 1.344820206100908, 1.0586385321058613], [1.326780906240121, 0.9883268171517532, 1.4261037623465906, 1.0747137129910334], [1.4359402018121457, 1.05791649188588, 1.5056935788798345, 1.2125706487055394], [1.527393295248595, 1.1053427916817382, 1.656288571697578, 1.2787479662118744], [1.6467373271540364, 1.1839649324104917, 1.7964575334931103, 1.4091916583381163], [1.7437608023739999, 1.2548913130349284, 1.8740674844125023, 1.4406450389502838], [1.8246189150455223, 1.3279941439199625, 1.996457779733401, 1.601652914179235], [1.920623616872085, 1.431316660248794, 2.139278519390896, 1.6464240999184856], [2.0282406853694384, 1.4638379986462198, 2.228343617507554, 1.8036293885869286], [2.1668016932436824, 1.5519355232968046, 2.3566794184846924, 1.8391799087239706]]
utils_ratio_001_threshold_06=[[0.13885319704590485, 0.18613875399697763, 0.1419205656957798, 0.1180380385367693], [0.27107029491166584, 0.37390695409529556, 0.2631401374182735, 0.2199321159402136], [0.41596644431890784, 0.5699754394872137, 0.4008338853618829, 0.3340579096713515], [0.5796971565849347, 0.5699754394872136, 0.5389283055210204, 0.44896901112062926], [0.6545670050345903, 0.6026205407395919, 0.5896340969308236, 0.5604217755899021], [0.7200383430701043, 0.6026205407395919, 0.7041463560446419, 0.5985711361405267], [0.7980130554145571, 0.6743323086736353, 0.8917003392226115, 0.7284524619848821], [0.8846961881769986, 0.7015975120810048, 0.9334831437552669, 0.7478104043099213], [1.0108706509150045, 0.7712657309437424, 1.1197389881881534, 0.8983914651909214], [1.137798382173916, 0.8627629971938343, 1.2155452078743083, 0.9742325582098748], [1.2433477867825466, 0.9754859345388018, 1.2932824898558706, 1.0679331145498172], [1.3385837747256282, 1.0158593049257698, 1.4208202395610083, 1.1237215925244024], [1.443104339008628, 1.0789791431896332, 1.4783991728698902, 1.1938614143785935], [1.5695618161679559, 1.1121001643004393, 1.6048627567434983, 1.2838141292526102], [1.6756345622773396, 1.1889833740889597, 1.7402224277060716, 1.3878626060599015], [1.8164104882590841, 1.2463481730717156, 1.8336708055532431, 1.4943675523312792], [1.9455947483070142, 1.30858411925297, 2.0017432418223278, 1.573896043644329], [2.0304241797886604, 1.389767482428771, 2.088746510027943, 1.6750156527707734], [2.1204284805933633, 1.5029210025675328, 2.2590871113130557, 1.7526170737142381], [2.2564952268117673, 1.574055858225415, 2.4038520676693134, 1.8509670030508214]]
utils_ratio_002_threshold_05=[[0.3125597189567487, 0.34584969354812206, 0.28834276967149886, 0.19964396669439624], [0.5006621228056913, 0.4183043138199692, 0.5538749481124147, 0.3609342369964954], [0.7505023761657578, 0.5829510217423455, 0.7600107664502497, 0.5687274848564616], [0.9732840645995529, 0.7190379402692726, 1.0406406488752662, 0.7638127749269532], [1.1813630225837934, 0.8921610300151751, 1.3067549650387027, 0.8956499226599053], [1.3486923998062823, 1.0065518969088192, 1.5734406814522268, 1.082543305888085], [1.5827447033961473, 1.2862416835664272, 1.7561859320946676, 1.2352987818521495], [1.766116657803033, 1.3817506581751888, 1.9771603127305144, 1.4497887585251108], [2.0072365600254836, 1.4505073126525911, 2.323662160001536, 1.5872331561993855], [2.1552145254096176, 1.6436065756818676, 2.4790207908344795, 1.7660502438229355], [2.380224153294462, 1.8411804070512547, 2.758565987192307, 1.9948593855317172], [2.585806912806588, 1.928153300652645, 2.9166481374665256, 2.2361107893843934], [2.796913976855851, 2.094612300933485, 3.260639018149406, 2.4262586985951047], [3.020422455360851, 2.228624686022181, 3.4863599895021764, 2.629524642552572], [3.197392918965927, 2.3931029281300646, 3.6345494199378083, 2.84759018531628], [3.4314342858857083, 2.512628482757093, 3.76929700598747, 2.9349617493741813], [3.6485280232454866, 2.7005019435495914, 4.008739570789058, 3.1091505587795916], [3.856345763209903, 2.8747725486265945, 4.215716818629623, 3.2922818389386808], [4.033061948516925, 2.97822054106002, 4.408592562494996, 3.458915844731737], [4.256705496510614, 3.121902959290602, 4.669659766295475, 3.6612075400339035]]
utils_ratio_002_threshold_06=[[0.3503964338520226, 0.4437928275569785, 0.3070133823017906, 0.23126829579132502], [0.5895119679700613, 0.5732430521071027, 0.5746844085783926, 0.4542754753458679], [0.7612768306127351, 0.6455088331940422, 0.753914408721334, 0.5888128321056442], [1.0113123833132516, 0.8209856416050473, 1.0479863096263313, 0.7856888151081085], [1.2157617452141036, 0.8671717927348012, 1.30780031056086, 0.9019984916051309], [1.4216551102838, 1.0417724629801168, 1.5976241311025232, 1.1567807203195528], [1.611992910651408, 1.1938727642150584, 1.856141773977405, 1.3039955019165277], [1.8208966831169004, 1.3362597788624757, 2.0325750381676313, 1.5021135773764507], [1.9977677413085002, 1.4537161084089962, 2.2682498940541485, 1.6695592630098297], [2.2467284794408777, 1.6308061281117712, 2.4379801431798622, 1.88424370492155], [2.4295323937783455, 1.7567111230584425, 2.653648832067572, 2.0667910299576677], [2.7095585881516127, 1.9997245648737787, 2.892089681481618, 2.2251726533242353], [2.949308579572804, 2.031449153079311, 3.0471839902648075, 2.4111527644493926], [3.1174674731067125, 2.2276542371509693, 3.3265251445628032, 2.5816722977488147], [3.418410490487684, 2.371981343804718, 3.630164275258428, 2.7128651132106043], [3.5801598668964285, 2.512443650080627, 3.8524363112821733, 2.9098023662589996], [3.7864501399264694, 2.6754691960937307, 4.079923045474334, 3.1270779388528354], [3.9992839194726013, 2.8271817974514413, 4.357560175982538, 3.232089268593096], [4.15475337159753, 3.0764701697387524, 4.5948875437159895, 3.4356220344451676], [4.384125432898136, 3.1223600483714216, 4.854906885459551, 3.5904828592406766]]
utils_ratio_003_threshold_05=[[0.4402611109638107, 0.47416625135052015, 0.4282944975369539, 0.3239941244454816], [0.7691938593519771, 0.5508304103216409, 0.8202373455896558, 0.6896636680119475], [1.0995928819123297, 0.823727384949635, 1.1909228346503604, 0.9080091842686111], [1.4402316549538632, 0.990978932650914, 1.5347757272410405, 1.2412413556530477], [1.806285314006314, 1.260531934246923, 2.005272010059177, 1.4017255930612305], [2.0758327301374546, 1.636379232735616, 2.3302033939490348, 1.7235240248781802], [2.387914082550466, 1.850431634184878, 2.689990231498572, 1.8557684153989356], [2.6651230998474107, 2.0600957029592757, 3.118790669594151, 2.175438652794496], [3.0126032127882407, 2.2128453356454383, 3.511727978258136, 2.4478176144416497], [3.2403764055505837, 2.428242608597018, 3.9816082426473347, 2.757116736812506], [3.6060247095356495, 2.660178204660677, 4.121930346339341, 3.0226955552543395], [3.9290422359064876, 2.9700937044438978, 4.439506353545286, 3.3091476016080645], [4.175522234783173, 3.095122167799284, 4.756053236684955, 3.63770254380574], [4.520400765801934, 3.4460702148392692, 5.0224117425626815, 3.947918016220423], [4.801119240529362, 3.5221134002538403, 5.338499668779365, 4.2495437585540445], [5.129447674131515, 3.8089654557655805, 5.782280752618767, 4.497476063858426], [5.372519712589247, 3.971098701009382, 6.209391449341592, 4.782522930300876], [5.706556097347381, 4.306553989543406, 6.461759756233278, 4.976717281379417], [5.989875392201687, 4.429999284225839, 6.910470283336259, 5.339604016101645], [6.3127280963357375, 4.786835543463466, 7.18228777054071, 5.607690379392197]]
utils_ratio_003_threshold_06=[[0.4430968282176514, 0.5425164645823316, 0.43432155957958085, 0.2955188293800447], [0.8336314697268897, 0.6178469665128499, 0.8404418383842203, 0.6679864397824637], [1.1274221875405284, 1.1139602857365805, 1.2379371078543508, 0.8093699643741722], [1.4912543503905555, 1.1698860341363788, 1.6201319569861619, 1.2167962740926626], [1.7901111343145826, 1.2872042783182942, 1.9149793115459206, 1.3631546008064985], [2.1281624413200384, 1.422196139500208, 2.2804847701474578, 1.6841705179894468], [2.353554083540133, 1.7024571598729354, 2.743138266478313, 1.9590603166890934], [2.728754800078693, 1.9328315035814776, 2.965057545376632, 2.274256809603516], [3.017807305114324, 2.1940657831203327, 3.3951657085157696, 2.4802750836827014], [3.3278557436217415, 2.453285504336997, 3.741814037216686, 2.837828450217785], [3.667972654356981, 2.6797310900955864, 4.063265450482428, 3.03789070325902], [4.027952516175841, 2.9343897250316817, 4.2628909139977855, 3.3467176536303196], [4.232298238950412, 3.1404686297351776, 4.581465287281295, 3.534003229368437], [4.590559351064313, 3.291866227333368, 4.953228600831095, 3.7885792681934523], [4.939694210635487, 3.637264694249863, 5.399459888896413, 4.239614648704188], [5.356796557008741, 3.7837542169226546, 5.708214492109374, 4.380920756896058], [5.690053929909809, 3.9504392472187577, 5.968469620696005, 4.764111610035133], [6.104509242151213, 4.179468734475486, 6.3256866680468855, 4.998934577272412], [6.353769450986821, 4.488558984903499, 6.789431528244286, 5.205832358979073], [6.677306037830408, 4.66620950792928, 7.1518417423129925, 5.440033873984208]]
utils_ratio_004_threshold_05=[[0.5869574892552185, 0.6423351390582526, 1.0408700225075367, 0.4085438247756247], [0.994257251611912, 0.8403056149100413, 1.171336742491148, 0.722862580800485], [1.4225171205264784, 1.1996131488028785, 1.7057988754920121, 1.310318454533263], [1.9019797273866093, 1.4008902936085277, 2.307827961649953, 1.5799038091267494], [2.315069977437113, 1.7985426025529463, 2.9147211975572436, 2.0318347156517644], [2.848547946039466, 2.016854436813353, 3.273686469057377, 2.4743567270968536], [3.309183015485243, 2.278248055264199, 3.911244533190629, 2.7633436971756398], [3.6329790624977307, 2.5731135239213274, 4.505749826726569, 3.0825549313385947], [4.229715134185715, 2.8968403802473737, 4.8212575795083445, 3.5214403063117903], [4.691708472329724, 3.1743968329116234, 5.126840399556629, 3.7602202940459537], [5.0162693911571345, 3.5231115897135052, 5.466552386918821, 4.271669907176607], [5.394973727132041, 3.7423113012403744, 5.818323591002622, 4.518443497349961], [5.784226045622395, 4.0448166979095985, 6.436550737846135, 4.929791678330641], [6.226172581733555, 4.411104625254567, 6.867667455663586, 5.286834680815376], [6.733183876009011, 4.749217735134982, 7.208752862918703, 5.6602261813667125], [7.1847525935935845, 5.1028482760074985, 7.754186610203914, 5.967356272660342], [7.492487454337377, 5.372285974891529, 8.283787558229438, 6.212360634329176], [8.034638402860432, 5.6350768276720675, 8.80520615777969, 6.688599260606494], [8.381115474363169, 6.100078603187841, 9.09596324529549, 7.082107179397137], [8.901220272289775, 6.462520072774619, 9.718944870032479, 7.488227238254943]]
utils_ratio_004_threshold_06=[[0.5103240345608289, 0.640269762933722, 0.5983241102423617, 0.42930993181774296], [0.992082269741875, 0.761326905749934, 1.2111147534413578, 0.9057536569242811], [1.4642038177796128, 1.3041135646782358, 1.6236033768537417, 1.2152073718137986], [1.9599752988471721, 1.41345879896511, 2.157327817276637, 1.4282214356428857], [2.268032872280936, 1.7738119207884395, 2.6449139231340486, 1.9120082442593835], [2.6195597358020253, 1.9545274614739867, 3.060493525690124, 2.2031375266021875], [3.115341187108155, 2.300174337086261, 3.472793838275592, 2.5378838954689953], [3.5054973989301743, 2.669113978746043, 4.095937327631932, 2.899791788896349], [3.923590462750306, 2.9677653361801286, 4.63355767709106, 3.2592336152411296], [4.346138266062045, 3.261031943677532, 5.161494542219069, 3.7950204550886784], [4.769046391893624, 3.679242724952263, 5.703052883616718, 3.9438355640681415], [5.21795107594838, 3.923123901232631, 5.978300672388353, 4.358125448179865], [5.618736986337099, 4.307466584963856, 6.4637545664514935, 4.728237363397043], [6.0933157988367945, 4.619570702148144, 6.96633519844275, 5.159370834075161], [6.603253595552871, 4.818536911365455, 7.294726306759323, 5.54271802879413], [7.036188536608785, 5.054449744261876, 7.725017865488666, 5.88655935852739], [7.4099421388203845, 5.410288303790889, 8.181287404458725, 6.3380619393161135], [7.860075101760625, 5.650032165845378, 8.840100024382998, 6.61458682782481], [8.14241119919668, 6.057620956086108, 9.22414494596311, 6.997104052574879], [8.671215204081163, 6.290597403086162, 10.163395091559984, 7.319739057496142]]


# compose data
ratio_var_util_t05 = [max(utils_ratio_001_threshold_05), max(utils_ratio_002_threshold_05), max(utils_ratio_003_threshold_05), max(utils_ratio_004_threshold_05)]
ratio_var_util_t06 = [max(utils_ratio_001_threshold_06), max(utils_ratio_002_threshold_06), max(utils_ratio_003_threshold_06), max(utils_ratio_004_threshold_06)]

thre_var_util_r001 = [max(utils_ratio_001_threshold_05), max(utils_ratio_001_threshold_06)]
thre_var_util_r002 = [max(utils_ratio_002_threshold_05), max(utils_ratio_002_threshold_06)]
thre_var_util_r003 = [max(utils_ratio_003_threshold_05), max(utils_ratio_003_threshold_06)]
thre_var_util_r004 = [max(utils_ratio_004_threshold_05), max(utils_ratio_004_threshold_06)]

ratio_var_sync_t05 = [syncs_ratio_001_threshold_05, syncs_ratio_002_threshold_05, syncs_ratio_003_threshold_05, syncs_ratio_004_threshold_05]
ratio_var_sync_t06 = [syncs_ratio_001_threshold_06, syncs_ratio_002_threshold_06, syncs_ratio_003_threshold_06, syncs_ratio_004_threshold_06]

thre_var_sync_r001 = [syncs_ratio_001_threshold_05, syncs_ratio_001_threshold_06]
thre_var_sync_r002 = [syncs_ratio_002_threshold_05, syncs_ratio_002_threshold_06]
thre_var_sync_r003 = [syncs_ratio_003_threshold_05, syncs_ratio_003_threshold_06]
thre_var_sync_r004 = [syncs_ratio_004_threshold_05, syncs_ratio_004_threshold_06]



import matplotlib
matplotlib.rcParams['ps.useafm'] = True
matplotlib.rcParams['pdf.use14corefonts'] = True
matplotlib.rcParams['text.usetex'] = True

import numpy as np
import matplotlib.pyplot as plt
from matplotlib import ticker
from matplotlib.ticker import FuncFormatter, MultipleLocator
import os
import matplotlib.pylab as pylab

from matplotlib.ticker import FormatStrFormatter

COLORS = ['#1f77b4', '#ff7f0e', '#2ca02c', '#d62728',
          '#9467bd', '#8c564b', '#e377c2', '#7f7f7f',
          '#bcbd22', '#17becf']

font_size = '12'
params = {
    'axes.labelsize' : font_size,
    'xtick.labelsize' : font_size,
    'ytick.labelsize' : font_size,
    # 'lines.linewidth' : '0.2',
    'legend.fontsize' : font_size,
    'figure.figsize' : '4, 2.8',
}
pylab.rcParams.update(params)




def plot_box(data, xticks, xlabel, ylabel, filename):

    plt.close('all')
    plt.figure()

    plt.boxplot(data, whis=[5, 95])

    x_ticks_num = [i for i in range(1, len(data) + 1)]
    plt.xticks(x_ticks_num, xticks)
    plt.xlabel(xlabel)
    plt.ylabel(ylabel)
    plt.tight_layout(True)

    filename = filename
    
    plt.savefig('{}.pdf'.format(filename), format='pdf', dpi=900)

    # plt.show()


# threshold 5 ratio variable
plot_box(ratio_var_util_t05, ['1\%', '2\%', '3\%', '4\%'], 'Traffic Capacity Ratio', 'Link utilization (\%)', 'ratio_var_util_t05')
plot_box(ratio_var_sync_t05, ['1\%', '2\%', '3\%', '4\%'], 'Traffic Capacity Ratio', 'Number of Synchronizations', 'ratio_var_sync_t05')

# threshold 6 ratio variable
plot_box(ratio_var_util_t06, ['1\%', '2\%', '3\%', '4\%'], 'Traffic Capacity Ratio', 'Link utilization (\%)', 'ratio_var_util_t06')
plot_box(ratio_var_sync_t06, ['1\%', '2\%', '3\%', '4\%'], 'Traffic Capacity Ratio', 'Number of Synchronizations', 'ratio_var_sync_t06')


# ratio 001 threshold variable
plot_box(thre_var_util_r001, ['50\%', '60\%'], 'Threshold', 'Link utilization (\%)', 'thre_var_util_r001')
plot_box(thre_var_sync_r001, ['50\%', '60\%'], 'Threshold', 'Number of Synchronizations', 'thre_var_sync_r001')

# ratio 002 threshold variable
plot_box(thre_var_util_r002, ['50\%', '60\%'], 'Threshold', 'Link utilization (\%)', 'thre_var_util_r002')
plot_box(thre_var_sync_r002, ['50\%', '60\%'], 'Traffic Capacity Ratio', 'Number of Synchronizations', 'thre_var_sync_r002')

# ratio 003 threshold variable
plot_box(thre_var_util_r003, ['50\%', '60\%'], 'Threshold', 'Link utilization (\%)', 'thre_var_util_r003')
plot_box(thre_var_sync_r003, ['50\%', '60\%'], 'Traffic Capacity Ratio', 'Number of Synchronizations', 'thre_var_sync_r003')

# ratio 004 threshold variable
plot_box(thre_var_util_r004, ['50\%', '60\%'], 'Threshold', 'Link utilization (\%)', 'thre_var_util_r004')
plot_box(thre_var_sync_r004, ['50\%', '60\%'], 'Threshold', 'Number of Synchronizations', 'thre_var_sync_r004')